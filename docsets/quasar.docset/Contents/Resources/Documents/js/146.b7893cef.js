(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[146],{"23a0":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("doc-page",{attrs:{title:"SSR with PWA Client Takeover",nav:t.nav}},[a("p",[t._v("With Quasar CLI you can build your app with the killer combo of SSR + PWA. In order to enable PWA for SSR builds, you need to edit your "),a("code",{staticClass:"doc-token"},[t._v("/quasar.conf.js")]),t._v(" first:")]),a("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[a("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// quasar.conf.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  ssr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    pwa"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("p",[t._v("The first request will be served from the webserver. The PWA gets installed then it takes over on client side.")]),a("blockquote",{staticClass:"doc-note"},[a("p",[t._v("For more information on PWA, head on to "),a("doc-link",{attrs:{to:"/quasar-cli/developing-pwa/introduction"}},[t._v("PWA Introduction")]),t._v(" and read the whole PWA Guide section.")],1)]),a("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"Caveat"},on:{click:function(e){return t.copyHeading("Caveat")}}},[t._v("Caveat")]),a("p",[t._v("One caveat to be aware of is that, as opposed to a normal PWA build, you need to also specify the URL routes that you wish to cache. The "),a("code",{staticClass:"doc-token"},[t._v("quasar.conf.js > ssr > pwa")]),t._v(" can have the Object form, specifying Workbox options that will get applied on top of "),a("code",{staticClass:"doc-token"},[t._v("quasar.conf.js > pwa > workboxOptions")]),t._v(". So we’ll be using this to add our routes to the runtime caching:")]),a("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[a("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// quasar.conf.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n  ssr"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// we use the Object form of "pwa" now:')]),t._v("\n    pwa"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      runtimeCaching"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          urlPattern"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/user'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          handler"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'networkFirst'")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// using a regex, especially useful")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// when you have Vue Routes with parameters")]),t._v("\n          urlPattern"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\/dashboard\\/.*/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          handler"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'networkFirst'")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),a("p",[t._v("The index route ("),a("code",{staticClass:"doc-token"},[t._v("/")]),t._v(") is added by default, but you can overwrite it if you want. In the example above, we’re caching routes "),a("code",{staticClass:"doc-token"},[t._v("/")]),t._v(", "),a("code",{staticClass:"doc-token"},[t._v("/user")]),t._v(" and "),a("code",{staticClass:"doc-token"},[t._v("/dashboard/**")]),t._v(".")])])},n=[],o=a("8669"),r="SSR with PWA Client Takeover | Quasar Framework",c="How to configure your Quasar server-side rendered app to become a Progressive Web App on the client side.",p={meta:{title:"SSR with PWA Client Takeover",meta:{title:{name:"title",content:r},ogTitle:{name:"og:title",content:r},twitterTitle:{name:"twitter:title",content:r},description:{name:"description",content:c},ogDesc:{name:"og:description",content:c},twitterDesc:{name:"twitter:description",content:c}}},preFetch:function(t){var e=t.store;e.commit("updateToc",[{id:"Caveat",title:"Caveat"}])},created:function(){this.nav=[{name:"Handling 404 and 500 Errors",category:"Developing SSR",path:"/quasar-cli/developing-ssr/handling-404-and-500-errors",dir:"left"},{name:"SSR Frequently Asked Questions",category:"Developing SSR",path:"/quasar-cli/developing-ssr/ssr-frequently-asked-questions",dir:"right"}]},methods:{copyHeading:o["a"]}},i=p,v=a("2877"),l=Object(v["a"])(i,s,n,!1,null,null,null);e["default"]=l.exports}}]);