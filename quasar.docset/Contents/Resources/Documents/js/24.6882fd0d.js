(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{a5ff:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("doc-page",{attrs:{title:"App Extension Development",nav:e.nav}},[n("p",[e._v("This section of the docs deals with creating your own App Extensions.")]),n("p",[e._v("It is assumed you have already installed one of the official App Extensions. Having this experience at your disposal is going to be very valuable when you start building your own App Extensions. If you run into problems, please visit our Discord server’s channel "),n("code",{staticClass:"doc-token"},[e._v("#app-extensions")]),e._v(".")]),n("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"Getting-started"},on:{click:function(t){return e.copyHeading("Getting-started")}}},[e._v("Getting started")]),n("p",[e._v("An App Extension is an npm package. We will be using the official App Extension starter kit to create one.")]),n("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[n("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[e._v("$ quasar create my-ext --kit app-extension\n")])]),n("p",[e._v("It will prompt you about your specific needs. Do you need an install script, an uninstall script, will you be prompting the user with some questions? Pick only what you will be using. You can manually add these later if you decide otherwise.")]),n("p",[e._v("For the sake of this documentation page, let’s assume we answered with "),n("code",{staticClass:"doc-token"},[e._v("my-ext")]),e._v(" to the App Extension "),n("code",{staticClass:"doc-token"},[e._v("ext-id")]),e._v(" question (regarding the prompts above). Remember that the folder name for the App Extension source folder can be different from the actual "),n("code",{staticClass:"doc-token"},[e._v("ext-id")]),e._v(". At the end, we will publish our new npm package ("),n("code",{staticClass:"doc-token"},[e._v("quasar-app-extension-my-ext")]),e._v(").")]),n("p",[e._v("Based on your response, Quasar CLI will create a folder for your App Extension’s source code that will have the following structure:")]),n("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[n("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n├── package.json\n└── src\n    ├── index.js      "),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Described in Index API")]),e._v("\n    ├── install.js    "),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Described in Install API")]),e._v("\n    ├── prompts.js    "),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Described in Prompts API")]),e._v("\n    └── uninstall.js  "),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Described in Uninstall API")]),e._v("\n")])]),n("p",[e._v("Except for "),n("code",{staticClass:"doc-token"},[e._v("src/index.js")]),e._v(", all the other files are optional. You can manually add or remove them at any point in time.")]),n("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"Scripts-description"},on:{click:function(t){return e.copyHeading("Scripts-description")}}},[e._v("Scripts description")]),n("q-markup-table",{staticStyle:{width:"fit-content","max-width":"100%"},attrs:{"wrap-cells":!0,flat:!0,bordered:!0}},[n("thead",[n("tr",[n("th",{staticClass:"text-left"},[e._v("Name")]),n("th",{staticClass:"text-left"},[e._v("Description")])])]),n("tbody",[n("tr",[n("td",[n("code",{staticClass:"doc-token"},[e._v("src/prompts.js")])]),n("td",[e._v("Handles the prompts when installing the App Extension")])]),n("tr",[n("td",[n("code",{staticClass:"doc-token"},[e._v("src/install.js")])]),n("td",[e._v("Extends the installation procedure of the App Extension")])]),n("tr",[n("td",[n("code",{staticClass:"doc-token"},[e._v("src/index.js")])]),n("td",[e._v("Is executed on "),n("code",{staticClass:"doc-token"},[e._v("quasar dev")]),e._v(" and "),n("code",{staticClass:"doc-token"},[e._v("quasar build")])])]),n("tr",[n("td",[n("code",{staticClass:"doc-token"},[e._v("src/uninstall.js")])]),n("td",[e._v("Extends the uninstallation procedure of the App Extension")])])])]),n("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"Handling-package-dependencies"},on:{click:function(t){return e.copyHeading("Handling-package-dependencies")}}},[e._v("Handling package dependencies")]),n("p",[e._v("If your App Extension has its own dependencies over some packages in order for it to be able to run (except for packages supplied by Quasar CLI, like “quasar”, “@quasar/extras”, “@quasar/app” – you should use “api.compatibleWith()” for those in your /install.js and /index.js scripts – check "),n("doc-link",{attrs:{to:"/app-extensions/development-guide/install-api"}},[e._v("Install API")]),e._v(" and "),n("doc-link",{attrs:{to:"/app-extensions/development-guide/index-api"}},[e._v("Index API")]),e._v("), then yarn/npm installing them into your App Extension folder will supply them into the hosting app.")],1),n("p",[e._v("Example: You are creating a UI component that depends on “my-table” npm package (name is bogus, just for making a point here), then you should yarn/npm install “my-table” in your App Extension folder.")]),n("div",{staticClass:"doc-note doc-note--warning"},[n("p",{staticClass:"doc-note__title"},[e._v("WARNING")]),n("p",[e._v("Never yarn/npm install packages that are supplied by the Quasar CLI, because App Extensions should not be so intrusive and force the user to use a certain Quasar version. Instead, make use of “api.compatibleWith()” for those, which is equivalent to softly saying “Sorry, you need to install this version of Quasar if you want to take advantage of my App Extension”.")])]),n("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"Manually-testing"},on:{click:function(t){return e.copyHeading("Manually-testing")}}},[e._v("Manually testing")]),n("p",[e._v("We need to create a Quasar project folder to be able to test it while we develop the extension:")]),n("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[n("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[e._v("$ quasar create test-app\n")])]),n("h3",{staticClass:"doc-heading doc-h3",attrs:{id:"Install-and-prompts-scripts"},on:{click:function(t){return e.copyHeading("Install-and-prompts-scripts")}}},[e._v("Install and prompts scripts")]),n("div",{staticClass:"doc-note doc-note--tip"},[n("p",{staticClass:"doc-note__title"},[e._v("TIP")]),n("p",[e._v("Learn more about what you can do with the "),n("doc-link",{attrs:{to:"/app-extensions/development-guide/prompts-api"}},[e._v("Prompts API")]),e._v(" and the "),n("doc-link",{attrs:{to:"/app-extensions/development-guide/install-api"}},[e._v("Install API")]),e._v(".")],1)]),n("p",[e._v("Inside the testing Quasar project folder, we manually add our App Extension. Notice that we are not specifying the npm package name (it’s not published yet!) but a path to our App Extension folder where we develop it, since we want to test unpublished work:")]),n("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[n("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[e._v("$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" --dev file://path/to/our/app/ext/root\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# or")]),e._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("add")]),e._v(" --dev link://path/to/our/app/ext/root\n")])]),n("p",[e._v("You will need to figure out which command works best for your environment.")]),n("div",{staticClass:"doc-note doc-note--warning"},[n("p",{staticClass:"doc-note__title"},[e._v("WARNING")]),n("p",[e._v("There have been many reports of problems linking via "),n("code",{staticClass:"doc-token"},[e._v("file:")]),e._v(" and "),n("code",{staticClass:"doc-token"},[e._v("link:")]),e._v(". This is outside of Quasar’s reach, but is likely to do with your development environment, aka your mileage with Windows will vary.")])]),n("p",[e._v("We then invoke it. The invoking procedure assumes that the App Extension’s package is already yarn/npm installed (which we did earlier) and skips that step:")]),n("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[n("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[n("span",{pre:!0,attrs:{class:"token comment"}},[e._v('# we said our <ext-id> will be "my-ext", so:')]),e._v("\n$ quasar ext invoke my-ext\n")])]),n("p",[e._v("This will trigger the installation of our new App Extension. You need to redo these two steps each time you make changes and you want to test them.")]),n("p",[e._v("Additionally, if you would like to have HMR (hot module reload) capabilities in your test app while developing your App Extension, then your "),n("code",{staticClass:"doc-token"},[e._v("quasar.conf.js > devServer > watchOptions")]),e._v(" would look like this:")]),n("pre",{pre:!0,attrs:{class:"doc-code language-js"}},[n("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-js"}},[n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// quasar.conf.js")]),e._v("\ndevServer"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  watchOptions"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    ignored"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v("'node_modules'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// be sure to change <myextid> below to")]),e._v("\n      "),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// your App Extension name:")]),e._v("\n      "),n("span",{pre:!0,attrs:{class:"token string"}},[e._v("'!node_modules/quasar-app-extension-<myextid>'")]),e._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])]),n("h3",{staticClass:"doc-heading doc-h3",attrs:{id:"Uninstall-script"},on:{click:function(t){return e.copyHeading("Uninstall-script")}}},[e._v("Uninstall script")]),n("div",{staticClass:"doc-note doc-note--tip"},[n("p",{staticClass:"doc-note__title"},[e._v("TIP")]),n("p",[e._v("Learn more about what you can do with the "),n("doc-link",{attrs:{to:"/app-extensions/development-guide/uninstall-api"}},[e._v("Uninstall API")]),e._v(".")],1)]),n("p",[e._v("Assuming you’ve installed your App Extension following the section above, we can now test the uninstall script (if you have any):")]),n("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[n("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[e._v("$ quasar ext uninvoke my-ext\n")])]),n("p",[e._v("The command above similarly does not modify or remove the npm package from package.json and node_modules. It simply calls the uninstall script and removes it from the registered/installed App Extensions list in your testing Quasar app project folder. Your end-user will however call "),n("code",{staticClass:"doc-token"},[e._v("$ quasar ext remove my-ext")]),e._v(" to uninstall it, which also uninstalls the npm package.")]),n("p",[e._v("You need to redo these install steps and issue the uninvoke command each time you make changes to the uninstall script and you want to test them.")]),n("h3",{staticClass:"doc-heading doc-h3",attrs:{id:"Index-script"},on:{click:function(t){return e.copyHeading("Index-script")}}},[e._v("Index script")]),n("p",[e._v("In the sections above we described how to test the prompts, install and uninstall scripts. Now it’s time for the index script, which is the heart of your App Extension.")]),n("p",[e._v("This is where you can tamper with all "),n("code",{staticClass:"doc-token"},[e._v("quasar.config.js")]),e._v(" options, extend the Webpack configuration, register Quasar CLI commands, start up external services required for developing your app and many more.")]),n("p",[e._v("As a result, the index script is run each time "),n("code",{staticClass:"doc-token"},[e._v("$ quasar dev")]),e._v(" and "),n("code",{staticClass:"doc-token"},[e._v("$ quasar build")]),e._v(" are executed.")]),n("p",[e._v("In order to test the index script, you can repeat the uninstall and install procedures described above each time you change something in the App Extension script code. But it becomes very tedious. If you are developing on a Unix OS (MacOS, Linux), you can take advantage of the "),n("code",{staticClass:"doc-token"},[e._v("yarn link")]),e._v(" command which creates a "),n("doc-link",{attrs:{to:"https://en.wikipedia.org/wiki/Symbolic_link"}},[e._v("symbolic link")]),e._v(" from the Quasar testing app’s node_modules folder to the folder of your extension:")],1),n("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[n("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[e._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" /path/to/app/extension/folder\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# we register the extension through yarn")]),e._v("\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("link")]),e._v("\n\n$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" /path/to/quasar/testing/app/folder\n\n$ "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[e._v("link")]),e._v(" quasar-app-extension-"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v("<")]),e._v("ext-id"),n("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# in our demo case, it's this:")]),e._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# $ yarn link quasar-app-extension-my-ext")]),e._v("\n")])]),n("p",[e._v("Remember that if you need to "),n("code",{staticClass:"doc-token"},[e._v("yarn/npm install")]),e._v(" any dependencies into "),n("strong",[e._v("your")]),e._v(" App Extension, then you must also uninstall your App Extension and re-install it in your test app:")]),n("pre",{pre:!0,attrs:{class:"doc-code language-bash"}},[n("code",{pre:!0,attrs:{class:"doc-code__inner doc-code__inner--prerendered language-bash"}},[e._v("$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" /path/to/app/extension/folder\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# run yarn/npm command (install/uninstall, etc)")]),e._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# then")]),e._v("\n\n$ "),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" /path/to/quasar/testing/app/folder\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Uninstall the app ext")]),e._v("\n$ quasar ext uninvoke my-ext\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Re-install the app ext")]),e._v("\n$ quasar ext invoke my-ext\n")])]),n("p",[e._v("You really only need to "),n("code",{staticClass:"doc-token"},[e._v("quasar ext invoke my-ext")]),e._v(" (install) the App Extension to re-install it. The above information is for completeness.")]),n("div",{staticClass:"doc-note doc-note--warning"},[n("p",{staticClass:"doc-note__title"},[e._v("WARNING")]),n("p",[e._v("There have been many reports of problems with "),n("code",{staticClass:"doc-token"},[e._v("yarn link")]),e._v(" on Windows. This is outside of Quasar’s reach, but is likely to do with your development environment, aka your mileage with Windows will vary.")])]),n("div",{staticClass:"doc-note doc-note--tip"},[n("p",{staticClass:"doc-note__title"},[e._v("TIP")]),n("p",[e._v("Learn more about what you can do with the "),n("doc-link",{attrs:{to:"/app-extensions/development-guide/index-api"}},[e._v("Index API")]),e._v(".")],1)]),n("h2",{staticClass:"doc-heading doc-h2",attrs:{id:"Publishing"},on:{click:function(t){return e.copyHeading("Publishing")}}},[e._v("Publishing")]),n("p",[e._v("When you finalized your App Extension and you’re ready to deploy it, all you need to do is to publish it to the npm repository.")]),n("p",[e._v("Inside of your App Extension folder, run "),n("doc-link",{attrs:{to:"https://yarnpkg.com/lang/en/docs/cli/publish/"}},[e._v("yarn publish")]),e._v(" or "),n("doc-link",{attrs:{to:"https://docs.npmjs.com/cli/publish"}},[e._v("npm publish")]),e._v(". Both do the same thing.")],1),n("div",{staticClass:"doc-note doc-note--warning"},[n("p",{staticClass:"doc-note__title"},[e._v("WARNING")]),n("p",[e._v("It’s important to remember to NOT strip out the "),n("code",{staticClass:"doc-token"},[e._v("quasar-app-extension-")]),e._v(" prefix from the "),n("code",{staticClass:"doc-token"},[e._v("name")]),e._v(" property of your extension’s "),n("code",{staticClass:"doc-token"},[e._v("package.json")]),e._v(", otherwise Quasar CLI will not recognize it.")])])],1)},a=[],o=n("8669"),i="App Extension Development | Quasar Framework",r="How to setup your machine for a Quasar App Extension development and getting started quickly.",c={meta:{title:"App Extension Development",meta:{title:{name:"title",content:i},ogTitle:{name:"og:title",content:i},twitterTitle:{name:"twitter:title",content:i},description:{name:"description",content:r},ogDesc:{name:"og:description",content:r},twitterDesc:{name:"twitter:description",content:r}}},preFetch:function(e){var t=e.store;t.commit("updateToc",[{id:"Getting-started",title:"Getting started"},{id:"Scripts-description",title:"Scripts description"},{id:"Handling-package-dependencies",title:"Handling package dependencies"},{id:"Manually-testing",title:"Manually testing"},{id:"Install-and-prompts-scripts",title:"Install and prompts scripts",sub:!0},{id:"Uninstall-script",title:"Uninstall script",sub:!0},{id:"Index-script",title:"Index script",sub:!0},{id:"Publishing",title:"Publishing"}])},created:function(){this.nav=[{name:"Discover App Extensions",category:"App Extensions",path:"/app-extensions/discover",dir:"left"},{name:"Prompts API",category:"Development Guide",path:"/app-extensions/development-guide/prompts-api",dir:"right"}]},methods:{copyHeading:o["a"]}},p=c,l=n("2877"),d=Object(l["a"])(p,s,a,!1,null,null,null);t["default"]=d.exports}}]);